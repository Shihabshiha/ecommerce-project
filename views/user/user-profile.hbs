<main class="main">
  <div class="page-header breadcrumb-wrap">
      <div class="container">
          <div class="breadcrumb">
              <a href="index.html" rel="nofollow">Home</a>
              <span></span> Pages
              <span></span> Account
          </div>
      </div>
  </div>
  <section class="pt-150 pb-150">
      <div class="container">
          <div class="row">
              <div class="col-lg-10 m-auto">
                  <div class="row">
                      <div class="col-md-4">
                          <div class="dashboard-menu">
                              <ul class="nav flex-column" role="tablist">
                                  <li class="nav-item">
                                      <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" href="#dashboard" role="tab" aria-controls="dashboard" aria-selected="false"><i class="fi-rs-settings-sliders mr-10"></i>Profile</a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders" role="tab" aria-controls="orders" aria-selected="false"><i class="fi-rs-shopping-bag mr-10"></i>Orders</a>
                                  </li>
                                 
                                  <li class="nav-item">
                                      <a class="nav-link" id="address-tab" data-bs-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="true"><i class="fi-rs-marker mr-10"></i>My Address</a>
                                  </li>
                                  <li class="nav-item">
                                    <a class="nav-link" id="wallet-tab" data-bs-toggle="tab" href="#wallet" role="tab" aria-controls="wallet" aria-selected="false"><i class="fas fa-wallet mr-10"></i>Wallet</a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" id="account-detail-tab" data-bs-toggle="tab" href="#account-detail" role="tab" aria-controls="account-detail" aria-selected="true"><i class="fi-rs-user mr-10"></i>Account details</a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" href="page-login-register.html"><i class="fi-rs-sign-out mr-10"></i>Logout</a>
                                  </li>
                              </ul>
                          </div>
                      </div>
                      <div class="col-md-8">
                          <div class="tab-content dashboard-content">
                              <div class="tab-pane fade active show" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                                  <div class="card">
                                      <div class="card-header">
                                          <h5 class="mb-0">{{user.name}} </h5>
                                      </div>
                                      <div class="card-body">
                                          <p>From your account dashboard. you can easily check &amp; view your <a href="/order-list">recent orders</a>, manage your shipping and billing addresses</p>
                                      </div>
                                  </div>
                              </div>
                              <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                                  <div class="card">
                                      <div class="card-header">
                                          <h5 class="mb-0">Your Orders</h5>
                                      </div>
                                      <div class="card-body">
                                          <div class="table-responsive">
                                              <table class="table">
                                                  <thead>
                                                      <tr>
                                                          <th>Order ID</th>
                                                          <th>Date</th>
                                                          <th>Status</th>
                                                          <th>Total</th>
                                                          <th>Actions</th>
                                                      </tr>
                                                  </thead>
                                                  <tbody>
                                                        {{#each orders}}
                                                            <tr>
                                                                <td>{{this.orderId}}</td>
                                                                <td>{{this.orderDate}}</td>
                                                                <td>{{this.status}}</td>
                                                                <td>{{this.totalPrice}}</td>                                                                
                                                                <td><a href="/order-details/{{this._id}}"class="btn-small d-block">View</a></td>
                                                            </tr>
                                                        {{/each}}
                                                          
                                                      
                                                  </tbody>
                                              </table>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                                      <div class="row">
                                        
                                        <div class="col-md-12 text-right mb-3">
                                        
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn btn-primary float-end" data-bs-toggle="modal" data-bs-target="#addAddressModal">Add Address</button>
                                        </div>
                                        <!-- Modal -->
                                        <div class="modal fade" id="addAddressModal" tabindex="-1" aria-labelledby="addAddressModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="addAddressModalLabel">Add Address</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <form action="/add-address" method="post">
                                                <div class="form-group">
                                                    <input type="text" name="billing_address" required="" placeholder="Address *">
                                                </div>
                                                <div class="form-group">
                                                    <input type="text" name="billing_address2" required="" placeholder="Address line2">
                                                </div>
                                                <div class="form-group">
                                                    <input required="" type="text" name="city" placeholder="City / Town *">
                                                </div>
                                                <div class="form-group">
                                                    <input required="" type="text" name="state" placeholder="State / County *">
                                                </div>
                                                <div class="form-group">
                                                    <input required="" type="text" name="zipcode" placeholder="Postcode / ZIP *">
                                                </div>
                                                <div class="form-group">
                                                    <input required="" type="text" name="phone" placeholder="Phone *">
                                                </div>
                                                <div class="form-group">
                                                    <input required="" type="text" name="email" placeholder="Email address *">
                                                </div>                                                
                                                <button type="submit" class="btn btn-primary">Save Address</button>
                                                </form>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            </div>
                                            </div>
                                        </div>
                                        </div>  
                                                                                               
                                    </div>
                                    <!-- Address List -->
                                    <div class="row">
                                    {{#each address}}
                                    <div class="col-md-4 mb-3">
                                        <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">{{billing_address}}</h5>
                                            <p class="card-text">{{city}}, {{state}} {{zipcode}}</p>
                                            <p class="card-text">{{phone}}</p>
                                            <a href="/edit-address/{{this._id}}" class="btn btn-outline-primary btn-sm edit">Edit</a>
                                            <a onclick="return deleteAddress('{{this._id}}');" class="btn btn-outline-danger btn-sm delete">Delete</a>
                                        </div>
                                        </div>
                                    </div>
                                    {{/each}}
                                    </div>


                                </div>
                             <div class="tab-pane fade" id="wallet" role="tabpanel" aria-labelledby="wallet-tab">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="wallet-amount" class="form-label fs-5">Wallet Amount</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-coins"></i></span>
                                                <input type="text" class="form-control" id="wallet-amount" value="{{wallet.balance}}" readonly>
                                            </div>
                                        </div>
                                    </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="wallet-transactions" class="form-label fs-5">Recent Transactions</label>
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Sl.No</th>
                                                    <th scope="col">Transaction Type</th>
                                                    <th scope="col">Amount</th>
                                                    <th scope="col">Date</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {{#each wallet.transactions}}
                                                <tr>
                                                    <td>{{inc @index}}</td>
                                                    <td>{{this.type}}</td>
                                                    <td>{{this.amount}}</td>
                                                    <td>{{formatDate this.date}}</td>
                                                </tr>
                                                {{/each}}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>



                                </div>
                            </div>

                              <div class="tab-pane fade" id="account-detail" role="tabpanel" aria-labelledby="account-detail-tab">
                                  <div class="card">
                                      <div class="card-header">
                                          <h5>Account Details</h5>
                                      </div>
                                      <div class="card-body">
                                          <p>Already have an account? <a href="page-login-register.html">Log in instead!</a></p>
                                          <form method="post" name="enq">
                                              <div class="row">
                                                  <div class="form-group col-md-6">
                                                      <label>First Name <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="name" type="text">
                                                  </div>
                                                  <div class="form-group col-md-6">
                                                      <label>Last Name <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="phone">
                                                  </div>
                                                  <div class="form-group col-md-12">
                                                      <label>Display Name <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="dname" type="text">
                                                  </div>
                                                  <div class="form-group col-md-12">
                                                      <label>Email Address <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="email" type="email">
                                                  </div>
                                                  <div class="form-group col-md-12">
                                                      <label>Current Password <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="password" type="password">
                                                  </div>
                                                  <div class="form-group col-md-12">
                                                      <label>New Password <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="npassword" type="password">
                                                  </div>
                                                  <div class="form-group col-md-12">
                                                      <label>Confirm Password <span class="required">*</span></label>
                                                      <input required="" class="form-control square" name="cpassword" type="password">
                                                  </div>
                                                  <div class="col-md-12">
                                                      <button type="submit" class="btn btn-fill-out submit" name="submit" value="Submit">Save</button>
                                                  </div>
                                              </div>
                                          </form>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>
</main>




